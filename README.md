# Как запустить

1. Скопировать *config.toml.example* -> *config.toml*, удалить директиву runners (она для примера)
    * если возникнут проблемы с сетевой связностью, проверьте директиву *network_mode* в своей конфигурации 
2. Запустить *setup_01_gitlab-setup.sh*
3. Запустить *setup_02_runner_setup.sh*. Будет выведен пароль для пользователя **root**, и начата **интерактивная сессия** для создания екзекутора
4. Зайти на вебку на 80 порте через пользователя **root**
5. Создать **публичный** реп, зайти в настройки CI/CD, запомнить оттуда токен
6. В **интерактивном сессии** вбить данные для ранера
   1. Вписать url http://gitlab-service/
   2. Ввести токен, example GR1348941-QRrAPdjGDaPnVX_5WPX
   3. Название раннера, например python-runner
   4. Теги, которые будут указаны в файле пайплайна
   5. Ввести екзекутор, например docker
   6. Если выбран екзекутор docker ввести образн для докера, например python:3.11

# Описание скриптов
## init_repos.sh
Инициализирует репозитории, которые будут связываться с локальным гитом.
Скрипт не проверялся на работоспособность

## clone_repos.sh
Копирует файлы из репов task* во временные репы, комитит это всё дело и пушит для запуска раннеров
Очень удобная вещь, писал для себя

## runner-cli.sh
Запистить cli раннера гитлаб.
В ней можно регать новые раннеры

## Хз актуально еще или нет
Полезнаые команды:
```bash
docker exec gitlab cat /etc/gitlab/
docker exec -it gitlab-runner bash
docker exec gitlab sh -c "echo '172.31.0.2 gitlab-service' >> /etc/hosts"
```